---
description: 开发流程规则。定义 SDD + TDD 工作流和质量门禁。
globs: "*"
---

# 开发流程规则

## 核心原则

1. **先设计，后实现** - 所有新功能必须先完成规范设计
2. **先测试，后实现** - 使用 TDD 方法，测试先行
3. **代码审查** - 所有代码必须经过审查才能合并

## 工作流

### 1. 规范设计 (SDD)
- 使用 `/sdd` 命令
- 完成 proposal.md, design.md, tasks.md
- 确保人与 AI 对齐规范

### 2. 需求分析
- 使用 `/plan` 命令
- 制定详细执行计划

### 3. TDD 实现
- 使用 `/tdd` 命令
- 先写测试，再写实现
- 确保 80%+ 覆盖率

### 4. 代码审查
- 使用 `/code-review` 命令
- 修复所有问题

### 5. E2E 测试
- 使用 `/e2e` 命令
- 验证关键路径

## 质量门禁

- [ ] proposal.md 完整
- [ ] design.md 包含方案选型
- [ ] TDD 测试存在
- [ ] 测试覆盖率 80%+
- [ ] 代码审查通过
- [ ] E2E 测试通过
- [ ] lint 通过
